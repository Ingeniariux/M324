import{a as B,f as P}from"../chunks/DdEP2DCb.js";import"../chunks/uctZlQ-7.js";import{l as V,b as se,h as w,c as K,B as ue,a as oe,K as _,r as ve,H as de,s as Z,d as $,n as O,C as ce,av as ge,ae as j,i as F,ax as C,m as W,t as he,ay as pe,az as _e,at as Q,aA as me,aB as Ee,aC as D,a2 as ee,aD as be,j as ne,p as fe,aE as U,aF as Ae,as as Te,k as ke,A as Ne,aG as we,aH as Se,y as Ce,a0 as Ie,aI as Re,F as Y,R as q,T as M,S as z,aJ as N}from"../chunks/ClUGd1J-.js";import{e as L,s as Fe}from"../chunks/CrgkBgyx.js";import{i as He}from"../chunks/BcXM2sv8.js";import{r as Me}from"../chunks/DvVYebqc.js";function xe(e,r){return r}function De(e,r,f){for(var s=[],u=r.length,t,i=r.length,a=0;a<u;a++){let c=r[a];fe(c,()=>{if(t){if(t.pending.delete(c),t.done.add(c),t.pending.size===0){var h=e.outrogroups;X(Q(t.done)),h.delete(t),h.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=s.length===0&&f!==null;if(o){var l=f,d=l.parentNode;Te(d),d.append(l),e.items.clear()}X(r,!o)}else t={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(t)}function X(e,r=!0){for(var f=0;f<e.length;f++)ke(e[f],r)}var ae;function ye(e,r,f,s,u,t=null){var i=e,a=new Map;{var o=e;i=w?K(ue(o)):o.appendChild(V())}w&&oe();var l=null,d=pe(()=>{var v=f();return _e(v)?v:v==null?[]:Q(v)}),c,h=!0;function I(){m.fallback=l,Oe(m,c,i,r,s),l!==null&&(c.length===0?(l.f&C)===0?ne(l):(l.f^=C,y(l,null,i)):fe(l,()=>{l=null}))}var n=se(()=>{c=_(d);var v=c.length;let p=!1;if(w){var g=ve(i)===de;g!==(v===0)&&(i=Z(),K(i),$(!1),p=!0)}for(var R=new Set,E=F,A=he(),T=0;T<v;T+=1){w&&O.nodeType===ce&&O.data===ge&&(i=O,p=!0,$(!1));var H=c[T],b=s(H,T),k=h?null:a.get(b);k?(k.v&&j(k.v,H),k.i&&j(k.i,T),A&&E.skipped_effects.delete(k.e)):(k=ze(a,h?i:ae??=V(),H,b,T,u,r,f),h||(k.e.f|=C),a.set(b,k)),R.add(b)}if(v===0&&t&&!l&&(h?l=W(()=>t(i)):(l=W(()=>t(ae??=V())),l.f|=C)),w&&v>0&&K(Z()),!h)if(A){for(const[te,ie]of a)R.has(te)||E.skipped_effects.add(ie.e);E.oncommit(I),E.ondiscard(()=>{})}else I();p&&$(!0),_(d)}),m={effect:n,items:a,outrogroups:null,fallback:l};h=!1,w&&(i=O)}function x(e){for(;e!==null&&(e.f&Ae)===0;)e=e.next;return e}function Oe(e,r,f,s,u){var t=r.length,i=e.items,a=x(e.effect.first),o,l=null,d=[],c=[],h,I,n,m;for(m=0;m<t;m+=1){if(h=r[m],I=u(h,m),n=i.get(I).e,e.outrogroups!==null)for(const b of e.outrogroups)b.pending.delete(n),b.done.delete(n);if((n.f&C)!==0)if(n.f^=C,n===a)y(n,null,f);else{var v=l?l.next:a;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),S(e,l,n),S(e,n,v),y(n,v,f),l=n,d=[],c=[],a=x(l.next);continue}if((n.f&U)!==0&&ne(n),n!==a){if(o!==void 0&&o.has(n)){if(d.length<c.length){var p=c[0],g;l=p.prev;var R=d[0],E=d[d.length-1];for(g=0;g<d.length;g+=1)y(d[g],p,f);for(g=0;g<c.length;g+=1)o.delete(c[g]);S(e,R.prev,E.next),S(e,l,R),S(e,E,p),a=p,l=E,m-=1,d=[],c=[]}else o.delete(n),y(n,a,f),S(e,n.prev,n.next),S(e,n,l===null?e.effect.first:l.next),S(e,l,n),l=n;continue}for(d=[],c=[];a!==null&&a!==n;)(o??=new Set).add(a),c.push(a),a=x(a.next);if(a===null)continue}(n.f&C)===0&&d.push(n),l=n,a=x(n.next)}if(e.outrogroups!==null){for(const b of e.outrogroups)b.pending.size===0&&(X(Q(b.done)),e.outrogroups?.delete(b));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||o!==void 0){var A=[];if(o!==void 0)for(n of o)(n.f&U)===0&&A.push(n);for(;a!==null;)(a.f&U)===0&&a!==e.fallback&&A.push(a),a=x(a.next);var T=A.length;if(T>0){var H=t===0?f:null;De(e,A,H)}}}function ze(e,r,f,s,u,t,i,a){var o=(i&me)!==0?(i&Ee)===0?D(f,!1,!1):ee(f):null,l=(i&be)!==0?ee(u):null;return{v:o,i:l,e:W(()=>(t(r,o??f,l??u,a),()=>{e.delete(s)}))}}function y(e,r,f){if(e.nodes)for(var s=e.nodes.start,u=e.nodes.end,t=r&&(r.f&C)===0?r.nodes.start:f;s!==null;){var i=Ne(s);if(t.before(s),s===u)return;s=i}}function S(e,r,f){r===null?e.effect.first=f:r.next=f,f===null?e.effect.last=r:f.prev=r}const re=[...` 	
\r\f \v\uFEFF`];function Le(e,r,f){var s=e==null?"":""+e;if(f){for(var u in f)if(f[u])s=s?s+" "+u:u;else if(s.length)for(var t=u.length,i=0;(i=s.indexOf(u,i))>=0;){var a=i+t;(i===0||re.includes(s[i-1]))&&(a===s.length||re.includes(s[a]))?s=(i===0?"":s.substring(0,i))+s.substring(a+1):i=a}}return s===""?null:s}function le(e,r,f,s,u,t){var i=e.__className;if(w||i!==f||i===void 0){var a=Le(f,s,t);(!w||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):e.className=a),e.__className=f}else if(t&&u!==t)for(var o in t){var l=!!t[o];(u==null||l!==!!u[o])&&e.classList.toggle(o,l)}return t}function Be(e,r,f=r){var s=new WeakSet;we(e,"input",async u=>{var t=u?e.defaultValue:e.value;if(t=G(e)?J(t):t,f(t),F!==null&&s.add(F),await Se(),t!==(t=r())){var i=e.selectionStart,a=e.selectionEnd,o=e.value.length;if(e.value=t??"",a!==null){var l=e.value.length;i===a&&a===o&&l>o?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=i,e.selectionEnd=Math.min(a,l))}}}),(w&&e.defaultValue!==e.value||Ce(r)==null&&e.value)&&(f(G(e)?J(e.value):e.value),F!==null&&s.add(F)),Ie(()=>{var u=r();if(e===document.activeElement){var t=Re??F;if(s.has(t))return}G(e)&&u===J(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function G(e){var r=e.type;return r==="number"||r==="range"}function J(e){return e===""?null:+e}var Ve=P("<button>☢️ NUKE ALL</button>"),Ke=P('<li class="agenda-item svelte-1uha8ag"> <button class="remove-button svelte-1uha8ag">Remove</button></li>'),$e=P('<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">SvelteKit Agendas App</h1> <div class="add-agenda svelte-1uha8ag"><input class="agenda-input svelte-1uha8ag" placeholder="Add a new task"/> <button class="add-button svelte-1uha8ag">Add</button> <!></div> <ul></ul></main>');function Xe(e){let r=D([]),f=D(""),s=D(!1),u=D(!1);function t(){_(f)&&(N(r,[..._(r),_(f)]),N(f,""))}function i(v){_(r).splice(v,1),N(r,[..._(r)])}function a(){N(s,!0),N(u,!0),setTimeout(()=>{N(r,[]),N(s,!1),N(u,!1)},900)}var o=$e(),l=M(q(o),2),d=q(l);Me(d);var c=M(d,2),h=M(c,2);{var I=v=>{var p=Ve();let g;Y(()=>g=le(p,1,"nuke-button svelte-1uha8ag",null,g,{disappearing:_(u)})),L("click",p,a),B(v,p)};He(h,v=>{_(r).length>0&&v(I)})}z(l);var n=M(l,2);let m;ye(n,5,()=>_(r),xe,(v,p,g,R)=>{var E=Ke(),A=q(E),T=M(A);z(E),Y(()=>Fe(A,`${_(p)??""} `)),L("click",T,()=>i(g)),B(v,E)}),z(n),z(o),Y(()=>m=le(n,1,"agenda-list svelte-1uha8ag",null,m,{exploding:_(s)})),Be(d,()=>_(f),v=>N(f,v)),L("keydown",d,v=>v.key==="Enter"&&t()),L("click",c,t),B(e,o)}export{Xe as component};
